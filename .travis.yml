# Documentation: http://docs.travis-ci.com/user/languages/julia/
language: julia
os:
  - linux
#  - osx
julia:
  - 0.4
notifications:
  email: false

before_install:
  - sudo apt-get update -qq
  - sudo apt-get install build-essential gfortran perl g++ gcc cmake m4 git
  - sudo apt-get install -y liblapack-dev liblapack-doc liblapack3gf
  - sudo apt-get install -y libblas-dev libblas-doc libblas3gf

# uncomment the following lines to override the default test script
script:
  - if [[ -a .git/shallow ]]; then git fetch --unshallow; fi
  - julia -e 'Pkg.clone(pwd()); Pkg.build("FFD")'
  - start_dir=`pwd`
  - cd ~/.julia/v0.4/PumiInterface/src/
  - source ./use_julialib.sh
  - cd $start_dir
  - julia -e 'cd(joinpath(Pkg.dir("FFD"), "test")); include("runtests.jl")'
